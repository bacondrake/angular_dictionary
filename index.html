<!DOCTYPE html>
<html ng-app="dictionary"><!-- Run the dictionary module (in app.js) when the document loads -->
  <head>
    <title>Angular Dictionary (Level 1)</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
  </head>

  <body>
    <div class="container" ng-controller="DictionaryController as dictionary">
      <!-- Navigation -->
      <section ng-controller="PanelController as panel">
        <ul class="nav nav-pills">
          <!-- Use the ng-class directive to set the active-pill class on the menu item (pill) that's active ** NB. because active-pill has a hyphen, need to surround it in single quotes, otherwise it won't work. Non-hyphenated classes don't need this -->
          <li ng-class="{ 'active-pill':panel.isSelected(1) }"><a href ng-click="panel.selectTab(1)">Not memorised</a></li>
          <li ng-class="{ 'active-pill':panel.isSelected(2) }"><a href ng-click="panel.selectTab(2)">Memorised</a></li>
        </ul>
        <!-- {{ tab }} // Print the tab value (1, 2, etc) to the page (for debugging) -->
        <!-- Panel for un-memorised words -->
        <div class="panel" ng-show="panel.isSelected(1)">
          <div ng-repeat="word in dictionary.words | orderBy:'name'"><!-- When using orderBy in Angular, you can put a minus in front of name to sort in descending order (e.g. orderBy:'-name') -->
            <div ng-hide="word.memorised">
              <h3>{{word.name}}</h3>
              <button class="btn btn-success btn-sm pull-right" ng-hide="word.memorised">Word not yet memorised</button>
              <button class="btn btn-primary btn-sm pull-right" ng-show="word.memorised">Word has been memorised</button>
              <small><em>{{word.comment}}</em></small>
              <p>{{word.meaning}}</p>
              <p><em>{{word.sample}}</em></p>
            </div>
          </div>
        </div>
        <!-- Panel for memorised words -->
        <div class="panel" ng-show="panel.isSelected(2)">
          <div ng-repeat="word in dictionary.words | orderBy:'name'"><!-- When using orderBy in Angular, you can put a minus in front of name to sort in descending order (e.g. orderBy:'-name') -->
            <div ng-show="word.memorised">
              <h3>{{word.name}}</h3>
              <button class="btn btn-success btn-sm pull-right" ng-hide="word.memorised">Word not yet memorised</button>
              <button class="btn btn-primary btn-sm pull-right" ng-show="word.memorised">Word has been memorised</button>
              <small><em>{{word.comment}}</em></small>
              <p>{{word.meaning}}</p>
              <p><em>{{word.sample}}</em></p>
            </div>
          </div>
        </div>
      </section>

      <!-- Create a new definition -->
      <!-- newWordCtrl is just an alias for the controller, it's common to use Ctrl when making controller aliases -->
      <!-- newWordForm.$valid within the ng-submit ensures that the form has content in the required fields (word and definition), otherwise it won't submit -->
      <form name="newWordForm" ng-controller="NewWordController as newWordCtrl" ng-submit="newWordForm.$valid && newWordCtrl.addNewWord()" novalidate>
        <!-- pre-save preview -->
        <blockquote>
          <p>Name: {{ newWordCtrl.newWord.name }}</p>
          <p>Definition: {{ newWordCtrl.newWord.meaning }}</p>
          <p>Sample: {{ newWordCtrl.newWord.sample }}</p>
          <p>Comments: {{ newWordCtrl.newWord.comment }}</p>
        </blockquote>
        <div class="form-group">
          <label>Word</label>
          <input type="text" class="form-control" ng-model="newWordCtrl.newWord.name" required/>
        </div>

        <div class="form-group">
          <label>Definition</label>
          <textarea class="form-control" ng-model="newWordCtrl.newWord.meaning" required></textarea>
        </div>

        <div class="form-group">
          <Label>Sample sentence</Label>
          <textarea class="form-control" ng-model="newWordCtrl.newWord.sample"></textarea>
        </div>

        <div class="form-group">
          <label>Comments</label>
          <textarea class="form-control" ng-model="newWordCtrl.newWord.comment"></textarea>
        </div>
        <input type="submit" value="Submit" />
        <div> newWordForm is {{ newWordForm.$valid }} </div>
      </form>
    </div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script type="text/javascript" src="app.js"></script>
  </body>
</html>
